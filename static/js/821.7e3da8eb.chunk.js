"use strict";(self.webpackChunkarticles=self.webpackChunkarticles||[]).push([[821],{9821:function(t,e,n){n.r(e),n.d(e,{default:function(){return P}});var r=n(2791),s=n(1413),a=n(9439),i=n(9434),c=n(4165),u=n(5861),o=n(2687),l=new(n(3319).Z),h=n(6263),x=n.n(h),p=n(1777),m=n(7689),d=n(376),f=n(2919),g=n(7621),v=n(9504),Z=n(2169),j=n(890),y=n(6647),w=n(6151),C=n(184),b=function(t){var e=t.imageUrl,n=t.title,s=t.summary,a=t.updatedAt,i=t.id,c=(0,r.useContext)(p.c).value,u=new Date(a),o=(0,m.s0)();return(0,C.jsx)(g.Z,{sx:{maxWidth:400,maxHeight:600,height:530},children:(0,C.jsxs)(y.Z,{children:[(0,C.jsx)(Z.Z,{component:"img",height:"217",image:e,alt:"article-image"}),(0,C.jsxs)(v.Z,{children:[(0,C.jsxs)(j.Z,{variant:"body2",color:"text.secondary",sx:{marginBottom:1},children:[(0,C.jsx)(d.Z,{sx:{display:"inline",position:"relative",top:2,mx:.5,fontSize:14,marginLeft:0}}),u.toLocaleDateString("en-US",{month:"long",day:"numeric",year:"numeric"})]}),(0,C.jsx)(j.Z,{gutterBottom:!0,variant:"h5",component:"div",className:"title",children:(0,C.jsx)(x(),{highlightClassName:"YourHighlightClass",searchWords:c.split(" "),autoEscape:!0,textToHighlight:n})}),(0,C.jsx)(j.Z,{variant:"body2",color:"text.secondary",className:"subtitle",children:(0,C.jsx)(x(),{highlightClassName:"YourHighlightClass subtitle",searchWords:c.split(" "),autoEscape:!0,textToHighlight:s})}),(0,C.jsxs)(w.Z,{className:"article-button",size:"small",color:"primary",onClick:function(){return o("/Articles/".concat(i))},children:["Read more",(0,C.jsx)(f.Z,{sx:{color:"grey",fontWeight:300,fontSize:16,position:"relative",top:2,marginLeft:.5}})]})]})]})})},N=n(7047),A=n(3767),E=n(6300),S=n(4554),k=n(1889),T=function(){var t=(0,r.useRef)(null),e=(0,r.useState)(!0),n=(0,a.Z)(e,2),h=n[0],x=(n[1],(0,i.v9)((function(t){return t}))),d=x.articles,f=x.loading,g={dispatch:(0,i.I0)()}.dispatch,v=(0,r.useContext)(p.c),Z=v.value,j=v.count,y=v.setCount;!function(t,e,n,s,a){var i=(0,r.useRef)(null);(0,r.useEffect)((function(){!n&&a&&(i.current&&i.current.disconnect(),i.current=new IntersectionObserver((function(t){t[0].isIntersecting&&e&&s()})),i.current.observe(t.current))}),[n])}(t,h,f,(function(){return y(j+9)}),d.length);var w=(0,m.UO)().id;Number(w);(0,r.useEffect)((function(){var t;g((t={_limit:j,title_contains:Z,summary_contains:Z},function(){var e=(0,u.Z)((0,c.Z)().mark((function e(n){var r;return(0,c.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n({type:o.U.GET_ARTICLES_PENDING}),e.next=4,l.getArticles(t);case 4:r=e.sent,n({type:o.U.GET_ARTICLES_SUCCESS,payload:r}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),n({type:o.U.GET_ARTICLES_FAIL,payload:e.t0.message});case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}()))}),[j,Z]);var T=(0,C.jsx)(A.Z,{spacing:2,sx:{maxWidth:600},children:(0,C.jsx)(E.Z,{sx:{marginTop:2,textTransform:"uppercase"},message:"No articles"})});return d.length||f?(0,C.jsxs)(S.Z,{sx:{flexGrow:1},className:"article-list",children:[(0,C.jsx)(k.ZP,{container:!0,spacing:6,columns:{xs:4,sm:8,md:12},children:d.map((function(t){return(0,C.jsx)(k.ZP,{item:!0,xs:2,sm:4,md:4,children:(0,C.jsx)(b,(0,s.Z)({},t))},t.id)}))}),f?(0,C.jsx)(k.ZP,{container:!0,spacing:6,columns:{xs:4,sm:8,md:12},style:{marginTop:"20px"},children:Array.from(Array(3)).map((function(t,e){return(0,C.jsxs)(k.ZP,{item:!0,xs:2,sm:4,md:4,children:[(0,C.jsx)(N.Z,{variant:"rectangular",height:217,style:{maxWidth:"400px"}}),(0,C.jsx)(N.Z,{animation:"wave",height:90}),(0,C.jsx)(N.Z,{animation:"wave",height:130})]},e)}))}):null,(0,C.jsx)("div",{ref:t})]}):T},I=function(){var t=(0,i.v9)((function(t){return t})).articles;return(0,C.jsxs)("div",{className:"search-result",children:["Results: ",t.length]})},_=n(5403),H=n(4336),L=n(3466),R=n(4925),U=function(){var t=(0,r.useState)(""),e=(0,a.Z)(t,2),n=(e[0],e[1],(0,r.useContext)(p.c)),s=n.value,i=n.searchHandler,c=n.resetHandler;return(0,C.jsxs)("div",{className:"search-panel",children:[(0,C.jsx)(R.Z,{className:"search-label",htmlFor:"search",children:"Filter by keywords"}),(0,C.jsx)(H.Z,{value:s,onChange:function(t){""===t.target.value&&c(),i(t.target.value)},id:"search",sx:{width:"600px",height:"50px"},InputProps:{startAdornment:(0,C.jsx)(L.Z,{position:"start",children:(0,C.jsx)(_.Z,{})})}}),(0,C.jsx)(I,{count:6})]})},D=n(1614),P=function(){return(0,C.jsxs)(D.Z,{className:"container",children:[(0,C.jsx)(U,{}),(0,C.jsx)(T,{})]})}},3319:function(t,e,n){n.d(e,{Z:function(){return u}});var r=n(4165),s=n(5861),a=n(3144),i=n(5671),c=n(3573),u=(0,a.Z)((function t(){var e=this;(0,i.Z)(this,t),this.urlBase="https://api.spaceflightnewsapi.net/v3",this.getData=function(){var t=(0,s.Z)((0,r.Z)().mark((function t(n){var s,a;return(0,r.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch("".concat(e.urlBase,"/").concat(n));case 2:return s=t.sent,t.next=5,s.json();case 5:return a=t.sent,t.abrupt("return",a);case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),this.getArticles=function(){var t=(0,s.Z)((0,r.Z)().mark((function t(n){var s;return(0,r.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e.getData("articles?".concat(c.Z.stringify(n)));case 3:return s=t.sent,t.abrupt("return",s);case 7:t.prev=7,t.t0=t.catch(0),console.log(t.t0);case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e){return t.apply(this,arguments)}}(),this.getArticle=function(){var t=(0,s.Z)((0,r.Z)().mark((function t(n){var s;return(0,r.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e.getData("articles/".concat(n));case 3:return s=t.sent,t.abrupt("return",s);case 7:t.prev=7,t.t0=t.catch(0),console.log(t.t0);case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e){return t.apply(this,arguments)}}()}))}}]);
//# sourceMappingURL=821.7e3da8eb.chunk.js.map